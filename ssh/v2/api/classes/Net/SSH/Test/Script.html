<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: Net::SSH::Test::Script [Net::SSH: a pure-Ruby implementation of the SSH2 client protocol.]</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href='../../../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Class</span>
          Net::SSH::Test::Script
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../../../files/lib/net/ssh/test/script_rb.html">lib/net/ssh/test/script.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong>Object</strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            Represents a sequence of scripted events that identify the behavior that a
            test expects. Methods named &#8220;sends_*&#8221; create events for packets
            being sent from the local to the remote host, and methods named
            &#8220;gets_*&#8221; create events for packets being received by the local
            from the remote host.
            </p>
            <p>
            A reference to a script. is generally obtained in a unit test via the <a
            href="../Test.html#M000128">Net::SSH::Test#story</a> helper method:
            </p>
            <pre>story do |script|&#x000A;  channel = script.opens_channel&#x000A;  ...&#x000A;end</pre>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M000166">new</a></li>
            </ol>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000169">gets</a></li>
              <li><a href="#M000177">gets_channel_close</a></li>
              <li><a href="#M000174">gets_channel_data</a></li>
              <li><a href="#M000176">gets_channel_eof</a></li>
              <li><a href="#M000175">gets_channel_request</a></li>
              <li><a href="#M000178">next</a></li>
              <li><a href="#M000167">opens_channel</a></li>
              <li><a href="#M000179">process</a></li>
              <li><a href="#M000168">sends</a></li>
              <li><a href="#M000173">sends_channel_close</a></li>
              <li><a href="#M000171">sends_channel_data</a></li>
              <li><a href="#M000172">sends_channel_eof</a></li>
              <li><a href="#M000170">sends_channel_request</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>events</td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      The list of scripted events. These will be <a
                      href="LocalPacket.html">Net::SSH::Test::LocalPacket</a> and <a
                      href="RemotePacket.html">Net::SSH::Test::RemotePacket</a> instances.
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='method public-class' id='method-M000166'>
                <a name='M000166'>      </a>
                <div class='synopsis'>
                  <span class='name'>new</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Create a new, empty script.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000166-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000166-source'>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 25</span>&#x000A;25:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>&#x000A;26:       <span class="ruby-ivar">@events</span> = []&#x000A;27:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M000169'>
                <a name='M000169'>      </a>
                <div class='synopsis'>
                  <span class='name'>gets</span>
                  <span class='arguments'>(type, *args)</span>
                </div>
                <div class='description'>
                  <p>
                  A convenience method for adding an arbitrary remote packet to the events
                  list.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000169-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000169-source'>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 56</span>&#x000A;56:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gets</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;57:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;58:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000177'>
                <a name='M000177'>      </a>
                <div class='synopsis'>
                  <span class='name'>gets_channel_close</span>
                  <span class='arguments'>(channel)</span>
                </div>
                <div class='description'>
                  <p>
                  Scripts the reception of a channel close packet from the remote host by the
                  given <a href="Channel.html">Net::SSH::Test::Channel</a> <tt>channel</tt>.
                  This will typically be called via <a
                  href="Channel.html#M000152">Net::SSH::Test::Channel#gets_close</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000177-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000177-source'>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 131</span>&#x000A;131:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gets_channel_close</span>(<span class="ruby-identifier">channel</span>)&#x000A;132:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_close</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>)&#x000A;133:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000174'>
                <a name='M000174'>      </a>
                <div class='synopsis'>
                  <span class='name'>gets_channel_data</span>
                  <span class='arguments'>(channel, data)</span>
                </div>
                <div class='description'>
                  <p>
                  Scripts the reception of a channel data packet from the remote host by the
                  given <a href="Channel.html">Net::SSH::Test::Channel</a> <tt>channel</tt>.
                  This will typically be called via <a
                  href="Channel.html#M000149">Net::SSH::Test::Channel#gets_data</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000174-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000174-source'>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 110</span>&#x000A;110:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gets_channel_data</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">data</span>)&#x000A;111:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_data</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>, <span class="ruby-identifier">data</span>)&#x000A;112:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000176'>
                <a name='M000176'>      </a>
                <div class='synopsis'>
                  <span class='name'>gets_channel_eof</span>
                  <span class='arguments'>(channel)</span>
                </div>
                <div class='description'>
                  <p>
                  Scripts the reception of a channel EOF packet from the remote host by the
                  given <a href="Channel.html">Net::SSH::Test::Channel</a> <tt>channel</tt>.
                  This will typically be called via <a
                  href="Channel.html#M000151">Net::SSH::Test::Channel#gets_eof</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000176-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000176-source'>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 124</span>&#x000A;124:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gets_channel_eof</span>(<span class="ruby-identifier">channel</span>)&#x000A;125:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_eof</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>)&#x000A;126:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000175'>
                <a name='M000175'>      </a>
                <div class='synopsis'>
                  <span class='name'>gets_channel_request</span>
                  <span class='arguments'>(channel, request, reply, data)</span>
                </div>
                <div class='description'>
                  <p>
                  Scripts the reception of a channel request packet from the remote host by
                  the given <a href="Channel.html">Net::SSH::Test::Channel</a>
                  <tt>channel</tt>. This will typically be called via <a
                  href="Channel.html#M000150">Net::SSH::Test::Channel#gets_exit_status</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000175-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000175-source'>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 117</span>&#x000A;117:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gets_channel_request</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">reply</span>, <span class="ruby-identifier">data</span>)&#x000A;118:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_request</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">reply</span>, <span class="ruby-identifier">data</span>)&#x000A;119:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000178'>
                <a name='M000178'>      </a>
                <div class='synopsis'>
                  <span class='name'>next</span>
                  <span class='arguments'>(mode=:shift)</span>
                </div>
                <div class='description'>
                  <p>
                  By default, removes the next event in the list and returns it. However,
                  this can also be used to non-destructively peek at the next event in the
                  list, by passing :first as the argument.
                  </p>
                  <pre># remove the next event and return it&#x000A;event = script.next&#x000A;&#x000A;# peek at the next event&#x000A;event = script.next(:first)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000178-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000178-source'>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 144</span>&#x000A;144:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">next</span>(<span class="ruby-identifier">mode</span>=<span class="ruby-identifier">:shift</span>)&#x000A;145:       <span class="ruby-identifier">events</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">mode</span>)&#x000A;146:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000167'>
                <a name='M000167'>      </a>
                <div class='synopsis'>
                  <span class='name'>opens_channel</span>
                  <span class='arguments'>(confirm=true)</span>
                </div>
                <div class='description'>
                  <p>
                  Scripts the opening of a channel by adding a local packet sending the
                  channel open request, and if <tt>confirm</tt> is true (the default), also
                  adding a remote packet confirming the new channel.
                  </p>
                  <p>
                  A new <a href="Channel.html">Net::SSH::Test::Channel</a> instance is
                  returned, which can be used to script additional channel operations.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000167-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000167-source'>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 35</span>&#x000A;35:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">opens_channel</span>(<span class="ruby-identifier">confirm</span>=<span class="ruby-keyword kw">true</span>)&#x000A;36:       <span class="ruby-identifier">channel</span> = <span class="ruby-constant">Channel</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)&#x000A;37:       <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span> = <span class="ruby-value">5555</span>&#x000A;38: &#x000A;39:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_open</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span> = <span class="ruby-identifier">p</span>[<span class="ruby-identifier">:remote_id</span>] }&#x000A;40: &#x000A;41:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">confirm</span>&#x000A;42:         <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_open_confirmation</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span>, <span class="ruby-value">0x20000</span>, <span class="ruby-value">0x10000</span>)&#x000A;43:       <span class="ruby-keyword kw">end</span>&#x000A;44: &#x000A;45:       <span class="ruby-identifier">channel</span>&#x000A;46:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000179'>
                <a name='M000179'>      </a>
                <div class='synopsis'>
                  <span class='name'>process</span>
                  <span class='arguments'>(packet)</span>
                </div>
                <div class='description'>
                  <p>
                  Compare the given packet against the next event in the list. If there is no
                  next event, an exception will be raised. This is called by <a
                  href="Extensions/PacketStream.html#M000136">Net::SSH::Test::Extensions::PacketStream#test_enqueue_packet</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000179-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000179-source'>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 151</span>&#x000A;151:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">process</span>(<span class="ruby-identifier">packet</span>)&#x000A;152:       <span class="ruby-identifier">event</span> = <span class="ruby-identifier">events</span>.<span class="ruby-identifier">shift</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;end of script reached, but got a packet type #{packet.read_byte}&quot;</span>&#x000A;153:       <span class="ruby-identifier">event</span>.<span class="ruby-identifier">process</span>(<span class="ruby-identifier">packet</span>)&#x000A;154:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000168'>
                <a name='M000168'>      </a>
                <div class='synopsis'>
                  <span class='name'>sends</span>
                  <span class='arguments'>(type, *args, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  A convenience method for adding an arbitrary local packet to the events
                  list.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000168-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000168-source'>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 50</span>&#x000A;50:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sends</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;51:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;52:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000173'>
                <a name='M000173'>      </a>
                <div class='synopsis'>
                  <span class='name'>sends_channel_close</span>
                  <span class='arguments'>(channel)</span>
                </div>
                <div class='description'>
                  <p>
                  Scripts the sending of a channel close packet from the given <a
                  href="Channel.html">Net::SSH::Test::Channel</a> <tt>channel</tt>. This will
                  typically be called via <a
                  href="Channel.html#M000148">Net::SSH::Test::Channel#sends_close</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000173-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000173-source'>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 103</span>&#x000A;103:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sends_channel_close</span>(<span class="ruby-identifier">channel</span>)&#x000A;104:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_close</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span>)&#x000A;105:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000171'>
                <a name='M000171'>      </a>
                <div class='synopsis'>
                  <span class='name'>sends_channel_data</span>
                  <span class='arguments'>(channel, data)</span>
                </div>
                <div class='description'>
                  <p>
                  Scripts the sending of a channel data packet. <tt>channel</tt> must be a <a
                  href="Channel.html">Net::SSH::Test::Channel</a> object, and <tt>data</tt>
                  is the (string) data to expect will be sent.
                  </p>
                  <p>
                  This will typically be called via <a
                  href="Channel.html#M000146">Net::SSH::Test::Channel#sends_data</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000171-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000171-source'>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 89</span>&#x000A;89:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sends_channel_data</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">data</span>)&#x000A;90:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_data</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span>, <span class="ruby-identifier">data</span>)&#x000A;91:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000172'>
                <a name='M000172'>      </a>
                <div class='synopsis'>
                  <span class='name'>sends_channel_eof</span>
                  <span class='arguments'>(channel)</span>
                </div>
                <div class='description'>
                  <p>
                  Scripts the sending of a channel EOF packet from the given <a
                  href="Channel.html">Net::SSH::Test::Channel</a> <tt>channel</tt>. This will
                  typically be called via <a
                  href="Channel.html#M000147">Net::SSH::Test::Channel#sends_eof</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000172-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000172-source'>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 96</span>&#x000A;96:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sends_channel_eof</span>(<span class="ruby-identifier">channel</span>)&#x000A;97:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_eof</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span>)&#x000A;98:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000170'>
                <a name='M000170'>      </a>
                <div class='synopsis'>
                  <span class='name'>sends_channel_request</span>
                  <span class='arguments'>(channel, request, reply, data, success=true)</span>
                </div>
                <div class='description'>
                  <p>
                  Scripts the sending of a new channel request packet to the remote host.
                  <tt>channel</tt> should be an instance of <a
                  href="Channel.html">Net::SSH::Test::Channel</a>. <tt>request</tt> is a
                  string naming the request type to send, <tt>reply</tt> is a boolean
                  indicating whether a response to this packet is required , and
                  <tt>data</tt> is any additional request-specific data that this packet
                  should send. <tt>success</tt> indicates whether the response (if one is
                  required) should be success or failure.
                  </p>
                  <p>
                  If a reply is desired, a remote packet will also be queued,
                  :channel_success if <tt>success</tt> is true, or :channel_failure if
                  <tt>success</tt> is false.
                  </p>
                  <p>
                  This will typically be called via <a
                  href="Channel.html#M000144">Net::SSH::Test::Channel#sends_exec</a> or <a
                  href="Channel.html#M000145">Net::SSH::Test::Channel#sends_subsystem</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000170-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000170-source'>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 73</span>&#x000A;73:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sends_channel_request</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">reply</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">success</span>=<span class="ruby-keyword kw">true</span>)&#x000A;74:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_request</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">reply</span>, <span class="ruby-identifier">data</span>)&#x000A;75:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">reply</span>&#x000A;76:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">success</span>&#x000A;77:           <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_success</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>)&#x000A;78:         <span class="ruby-keyword kw">else</span>&#x000A;79:           <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_failure</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>)&#x000A;80:         <span class="ruby-keyword kw">end</span>&#x000A;81:       <span class="ruby-keyword kw">end</span>&#x000A;82:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
